(self.webpackChunk=self.webpackChunk||[]).push([[3825],{91552:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return C}});var n,a=o(22122),s=o(6610),i=o(5991),r=o(63349),c=o(10379),p=o(46070),l=o(77608),u=o(31298),f=o(96156),h=(o(32543),o(46251),o(73935)),v=o(67294),d=o(1866),m=o(32465),g=o(32360),b=window.altrpHelpers.getResponsiveSetting,y=window.styled.div(n||(n=(0,m.Z)(["\n&{\n  overflow: hidden;\n","\n& .popup-content {\n  ","\n}\n& .popup-window > .popup-scrollbar > div{\n  ","\n}\n&& .popup-window{\n  ","\n  max-height: 100%;\n  max-width: 100%;\n}\n& .popup-close-button .altrp-image-placeholder svg{\n  width: 100%;\n  height: 100%;\n}\n&&& .popup-close-button{\n  transform: translate(50%, -50%);\n  padding: 0;\n  ","\n& .altrp-offcanvas {\n  ","\n}\n"])),(function(t){var e=t.settings,o="",n=b(e,"layout_bg");return o+"background-color:".concat(_.get(n,"color","rgba(0,0,0,0.7)"),";")}),(function(t){var e=t.settings,o="";return b(e,"height_custom_popup_layout"),e.width_popup_layout&&e.width_popup_layout.size&&(o+="width: ".concat(e.width_popup_layout.size," ").concat(e.width_popup_layout.unit,";")),o}),(function(t){var e=t.settings,o="",n=b(e,"content_position_popup_layout");return n&&"flex-start"!==n&&(o+="align-items:".concat(n,";"),o+="display:flex;"),o}),(function(t){var e=t.settings,o="",n=b(e,"height_custom_popup_layout");n&&(o+="height:".concat((0,g.sliderStyled)(n),";"));var a=b(e,"content_position_popup_layout");a&&(o+="justify-content:".concat(a,";"));var s=b(e,"width_popup_layout");return s&&(o+="width:".concat((0,g.sliderStyled)(s),";")),o}),(function(t){var e=t.settings,o="",n=b(e,"close_pa");n&&(o+=(0,g.dimensionsControllerToStyles)(n,"padding"));var a=b(e,"close_right");a&&(o+="right:".concat((0,g.sliderStyled)(a),";"));var s=b(e,"close_top");s&&(o+="top:".concat((0,g.sliderStyled)(s),";"));var i=b(e,"close_c");i&&(o+=(0,g.colorPropertyStyled)(i,"background-color")),(i=b(e,"close_c",".active"))&&(o+="&:active{".concat((0,g.colorPropertyStyled)(i,"background-color"),"}")),(i=b(e,"close_c",":hover"))&&(o+="&:hover{".concat((0,g.colorPropertyStyled)(i,"background-color"),"}"));var r=b(e,"icon_fill");return r&&(o+="& svg *{".concat((0,g.colorPropertyStyled)(r,"fill"),"}")),(r=b(e,"icon_fill",":hover"))&&(o+="&:hover svg *{".concat((0,g.colorPropertyStyled)(r,"fill"),"}")),(r=b(e,"icon_fill",".active"))&&(o+="&:active svg *{".concat((0,g.colorPropertyStyled)(r,"fill"),"}")),o}),(function(t){var e=t.settings,o="";return e.time_offcanvas&&e.time_offcanvas.size&&(o+="animation-duration: ".concat(e.time_offcanvas.size).concat(e.time_offcanvas.unit," !important;")),o}));function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function k(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){(0,f.Z)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var R=function(t){(0,c.Z)(a,t);var e,o,n=(e=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,l.Z)(e);if(o){var a=(0,l.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,p.Z)(this,t)});function a(t){var e;return(0,s.Z)(this,a),(e=n.call(this,t)).state={settings:t.settings,elementId:t.template.getId(),show:!1},e.offcanvasRef=v.createRef(),e.offcanvasContentRef=v.createRef(),e.show=e.show.bind((0,r.Z)(e)),e.hide=e.hide.bind((0,r.Z)(e)),e.hideButton=e.hideButton.bind((0,r.Z)(e)),e.mainContent=document.getElementsByClassName("main-content")[0],e}return(0,i.Z)(a,[{key:"show",value:function(){this.setState({show:!0}),document.addEventListener("click",this.hide),"push"===this.state.settings.animations_offcanvas&&("left"===this.state.settings.direction_offcanvas?(this.mainContent.style.width="70%",this.mainContent.style.left="30%"):"right"===this.state.settings.direction_offcanvas&&(this.mainContent.style.width="70%"))}},{key:"hide",value:function(t){var e=this;t.path.includes(this.offcanvasContentRef.current)||(this.props.close(),this.setState((function(t){return k(k({},t),{},{hideAnimation:!0})})),setTimeout((function(){e.setState({hideAnimation:!1,show:!1})}),200),document.removeEventListener("click",this.hide)),this.mainContent.style.width="100%",this.mainContent.style.left="0"}},{key:"hideButton",value:function(){var t=this;this.setState((function(t){return k(k({},t),{},{hideAnimation:!0})})),setTimeout((function(){t.setState({hideAnimation:!1,show:!1}),document.removeEventListener("click",t.hide)}),200),this.props.close()}},{key:"componentDidUpdate",value:function(t){this.props.show!==t.show&&this.show()}},{key:"render",value:function(){var t="altrp-offcanvas";switch(this.state.settings.direction_offcanvas){case"left":t+=" altrp-offcanvas-left altrp-offcanvas-vertical";break;case"right":t+=" altrp-offcanvas-right altrp-offcanvas-vertical";break;case"top":t+=" altrp-offcanvas-top altrp-offcanvas-horizontal";break;case"bottom":t+=" altrp-offcanvas-bottom altrp-offcanvas-horizontal";break;case"topLeft":t+=" altrp-offcanvas-top-left altrp-offcanvas-horizontal altrp-offcanvas-vertical";break;case"topRight":t+=" altrp-offcanvas-top-right altrp-offcanvas-horizontal altrp-offcanvas-vertical";break;case"bottomLeft":t+=" altrp-offcanvas-bottom-left altrp-offcanvas-horizontal altrp-offcanvas-vertical";break;case"bottomRight":t+=" altrp-offcanvas-bottom-right altrp-offcanvas-horizontal altrp-offcanvas-vertical"}var e="";switch(this.state.settings.animations_offcanvas){case"push":e+=" altrp-offcanvas-animation-push";break;case"reveal":e+=" altrp-offcanvas-animation-reveal";break;case"none":e+=" altrp-offcanvas-animation-none";break;default:e+=" altrp-offcanvas-animation-slide"}var o="",n=this.props.template;n&&(o=v.createElement(n.componentClass,{element:n,children:n.children})),e+=" altrp-offcanvas-wrapper-cursor-".concat(this.state.settings.close_cursor_offcanvas," ").concat(this.state.settings.overflow_visible_offcanvas?"altrp-offcanvas-wrapper-overflow-visible":"");var a=this.state.settings.switcher_close_button_popup_layout?v.createElement("div",{className:"altrp-offcanvas-button popup-close-button"+" altrp-offcanvas-button-".concat(this.state.settings.popup_close_icon_alignment),onClick:this.hideButton},v.createElement(d.Z,{image:this.state.settings.popup_close_icon,default:{assetType:"icon",name:"deleteOne"},className:"altrp-offcanvas-button-icon popup-close-button-icon"})):"";return v.createElement(v.Fragment,null,v.createElement("div",{className:"altrp-offcanvas-ref",ref:this.offcanvasRef}),h.createPortal(v.createElement(y,{settings:this.state.settings},v.createElement("div",{className:"altrp-offcanvas-wrapper"+(this.state.show?" altrp-offcanvas-wrapper-show":"")+" ".concat(this.state.elementId,"-altrp-offcanvas")+(this.state.hideAnimation?" altrp-offcanvas-wrapper-animation-hide":"")+e},v.createElement("div",{className:t,ref:this.offcanvasContentRef},v.createElement(u.$B,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,universal:!0},a,o)))),document.getElementById("front-app")))}}]),a}(v.Component),S=o(54534);var E=window.altrpHelpers,P=(E.getResponsiveSetting,E.iconsManager),z=function(t){(0,c.Z)(f,t);var e,o,n=(e=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,l.Z)(e);if(o){var a=(0,l.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,p.Z)(this,t)});function f(t){var e;return(0,s.Z)(this,f),(e=n.call(this,t)).ElementWrapper=t.ElementWrapper||window.ElementWrapper,e.state={isVisible:!1,rootElement:window.frontElementsFabric.parseData(e.props.template.data,null,e.props.page,e.props.models),isShownOnScroll:!1},e.close=e.close.bind((0,r.Z)(e)),e}return(0,i.Z)(f,[{key:"componentDidMount",value:function(){this.state.rootElement.getContent("type_popup")}},{key:"componentDidUpdate",value:function(t){var e=this.props.popupTrigger;switch(this.state.rootElement.getSettings("type_popup","popup")){case"popup":case"offcanvas":e!==t.popupTrigger&&this.setState({isVisible:e.popupID===_.get(this.props,"template.guid")})}}},{key:"close",value:function(){this.setState({isVisible:!1,isShownOnScroll:!1}),this.props.closePopup()}},{key:"render",value:function(){var t=this,e=this.state.isVisible,o=["app-popup"],n=this.state.rootElement;n.popupGUID=_.get(this.props,"template.guid");var s=n.getSettings(""),i=n.getResponsiveSetting("popup_close_icon"),r=n.getResponsiveSetting("popup_close_icon_width_size"),c=n.getResponsiveSetting("popup_close_icon_height_size");c=c?"".concat(c.size||"0").concat(c.unit):"50px",r=r?"".concat(r.size||"0").concat(r.unit):"50px";var p=n.getId(),l=n.getResponsiveSetting("close_context");o.push("".concat(p,"-app-popup"));var f=n.getResponsiveSetting("overlay_close_popup_layout");switch(f&&o.push("app-popup-overlay"),s.height_popup_layout){case"fitToScreen":o.push("app-popup-height-fit-to-screen");break;case"custom":o.push("app-popup-height-custom")}switch(s.horizontal_position_popup_layout){case"left":o.push("app-popup-horizontal-left");break;case"center":o.push("app-popup-horizontal-center");break;case"right":o.push("app-popup-horizontal-right");break;default:o.push("app-popup-horizontal-center")}switch(s.vertical_position_popup_layout){case"top":o.push("app-popup-vertical-top");break;case"center":o.push("app-popup-vertical-center");break;case"bottom":o.push("app-popup-vertical-bottom");break;default:o.push("app-popup-vertical-center")}var h="",v=n.getResponsiveSetting("switcher_close_button_popup_layout"),m=s.popup_close_icon_alignment;m=m||"right";var g=v?React.createElement("button",{className:"popup-close-button"+("right"===m?" popup-close-button-right":" popup-close-button-left"),onClick:function(){t.setState({isVisible:!1}),t.props.closePopup()}},React.createElement(d.Z,{image:i,lazy:!1,width:r,height:c,default:{assetType:"icon",name:"deleteOne",url:"/img/nullImage.png"},className:"popup-close-button-icon"})):React.createElement("button",{className:"popup-close-button"+("right"===m?" popup-close-button-right":" popup-close-button-left"),onClick:function(){t.setState({isVisible:!1}),t.props.closePopup()}},P().renderIcon("times",{width:r,height:c,className:"popup-close-button-icon"})),b=e?React.createElement(y,{settings:s,className:o.join(" "),onClick:function(){f&&(t.setState({isVisible:!1}),t.props.closePopup())}},"window"===l&&g,React.createElement("div",{className:"popup-window",onClick:function(t){return t.stopPropagation()}},"window"!==l&&g,React.createElement(u.$B,{autoHide:!0,renderThumbHorizontal:function(t){return React.createElement("div",(0,a.Z)({},t,{className:"popup-scrollbar-vertical"}))},renderTrackHorizontal:function(){return React.createElement("div",{className:"popup-scrollbar-track-horizontal"})},renderTrackVertical:function(t){return React.createElement("div",(0,a.Z)({},t,{className:"popup-scrollbar-track-vertical"}))},className:"popup-scrollbar",autoHideTimeout:1e3,autoHideDuration:200},React.createElement("div",{className:"popup-content"},React.createElement(n.componentClass,{element:n,ElementWrapper:this.ElementWrapper,children:n.children}))))):null;switch(n.getResponsiveSetting("type_popup")||"popup"){case"popup":h=b;break;case"offcanvas":h=React.createElement(R,{close:this.close,show:this.state.isVisible,settings:s,template:n})}return h}}]),f}(Component),C=window.reactRedux.connect((function(t){return{scrollPosition:t.scrollPosition,popupTrigger:t.popupTrigger}}),(function(t){return{closePopup:function(){return t((0,S.z)(null))}}}))(z)}}]);
//# sourceMappingURL=3825.editor.js.map